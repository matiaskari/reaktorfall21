(this.webpackJsonpreaktor_fall_21=this.webpackJsonpreaktor_fall_21||[]).push([[0],{38:function(t,e,r){"use strict";r.r(e);var n=r(13),i=r.n(n),o=r(2),l=r(3),s=r(14),c=r.n(s),a=function(){return c.a.get("https://gtrcorsproxy.herokuapp.com/https://media.wizards.com/2021/downloads/MagicCompRules%2020210419.txt",{headers:{"Content-Type":"text/plain"}}).then((function(t){return t.data}))},d=r(0),u=function(t){var e=t.textArray,r=t.tocSearch,n=e.slice(e.indexOf("Contents")+1,e.indexOf("Glossary")),i=function(t){r(t)},o={margin:"0",marginTop:"10px",padding:"5px",fontWeight:"600",backgroundColor:"#a4d2e0",cursor:"pointer",border:"none",borderRadius:"3px"},l={margin:"0",marginLeft:"15px",padding:"3px",fontWeight:"400",backgroundColor:"#badde8",cursor:"pointer",border:"none",borderRadius:"3px"},s={margin:"0",marginBottom:"3px",padding:"0"},c=n.map((function(t){return!isNaN(t[0])&&"."===t[1]||isNaN(t[0])?Object(d.jsx)("h3",{style:s,children:Object(d.jsx)("button",{type:"button",style:o,onClick:function(){return i(t)},children:t})},"chapter"+t.split(" ")[0]):Object(d.jsx)("p",{style:s,children:Object(d.jsx)("button",{type:"button",style:l,onClick:function(){return i(t)},children:t})},"chapter"+t.split(" ")[0])}));return Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{type:"button",style:o,onClick:function(){return i("")},children:"Show all rules"}),c]})},p=function(t){var e=t.textArray,r=t.filter,n=t.tocChapter,i=e.slice(e.indexOf("Credits")+1,e.length),o=i.slice(0,i.indexOf("Glossary")),l="";l=0===n.length?o:2===n.split(" ")[0].length?o.filter((function(t){return t[0]===n[0]})):o.filter((function(t){return t.slice(0,4).includes(n.split(" ")[0])}));var s=""===r?l:l.filter((function(t){return t.toLowerCase().includes(r.toString().toLowerCase())})),c=function(){return 9999999*Math.random()+0},a=s.map((function(t){return isNaN(t[0])||"."!==t[1]?isNaN(t[0])||"."!==t[3]||" "!==t[4]?Object(d.jsx)("p",{children:t},"rule"+c()):Object(d.jsx)("h3",{children:t},"rule"+c()):Object(d.jsx)("h2",{children:t},"rule"+c())}));return Object(d.jsx)("div",{children:0===a.length?'Could not find results for "'+r.toString()+'"':a})},f=function(){var t=Object(o.useState)([]),e=Object(l.a)(t,2),r=e[0],n=e[1],i=Object(o.useState)([]),s=Object(l.a)(i,2),c=s[0],f=s[1],x=Object(o.useState)([]),h=Object(l.a)(x,2),b=h[0],j=h[1];Object(o.useEffect)((function(){a().then((function(t){console.log("promise fulfilled");var e=t.split("\r\n").filter((function(t){return""!==t}));n(e)}))}),[]);var g={container:{display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"flex-start",width:"100%",fontFamily:"Arial, Helvetica, sans-serif"},styleToC:{flex:"1",width:"20%",padding:"20px",margin:"5px",borderStyle:"solid",borderRadius:"10px",borderWidth:"2px"},styleRules:{flex:"3",width:"70%",padding:"20px",margin:"5px",borderStyle:"solid",borderRadius:"10px",borderWidth:"2px"},filterField:{paddingBottom:"10px"}};return Object(d.jsxs)("div",{style:g.container,children:[Object(d.jsx)("div",{style:g.styleToC,children:Object(d.jsx)(u,{textArray:r,tocSearch:function(t){console.log("Viewing chapter:",0!==t.length?t:"All"),j(t)}})}),Object(d.jsxs)("div",{style:g.styleRules,children:[Object(d.jsxs)("form",{style:g.filterField,children:["Search for rules: ",Object(d.jsx)("input",{value:c,onChange:function(t){console.log("Current filter:",t.target.value),f(t.target.value)}})]}),Object(d.jsx)(p,{textArray:r,filter:c,tocChapter:b})]})]})};i.a.render(Object(d.jsx)(f,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.84e1bcab.chunk.js.map